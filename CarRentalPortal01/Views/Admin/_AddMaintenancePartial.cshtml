@model CarRentalPortal01.Models.VehicleMaintenance

<form id="maintenanceForm">
    @Html.AntiForgeryToken()
    @if (Model.VehicleId == 0)
    {
        <div class="form-group">
            <label>Araç Seçiniz</label>
            <select asp-for="VehicleId" class="form-control" asp-items="@(ViewBag.VehicleList)"></select>
        </div>
    }
    else
    {
        <input type="hidden" asp-for="VehicleId" />

        <div class="alert alert-info py-2">
            <small>Seçili Araç ID:</small> <strong>@Model.VehicleId</strong>
        </div>
    }

    <div class="modal-header bg-warning text-white">
        <h5 class="modal-title"><i class="fas fa-tools"></i> Araç Bakım Girişi</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-body">
        <div class="alert alert-danger">
            <i class="fas fa-exclamation-triangle"></i> Dikkat: Bu işlem aracı <b>"Müsait Değil"</b> durumuna getirecektir.
        </div>

        <div class="form-group">
            <label>Bakım Türü</label>
            <select asp-for="MaintenanceType" class="form-control">
                <option value="Periyodik Bakım">Periyodik Bakım (10 Bin/Yıllık)</option>
                <option value="Lastik Değişimi">Lastik Değişimi</option>
                <option value="Kaza Onarımı">Kaza / Kaporta Onarımı</option>
                <option value="Mekanik Arıza">Mekanik Arıza</option>
                <option value="Muayene">Muayene Hazırlığı</option>
            </select>
        </div>

        <div class="form-group">
            <label>Giriş Tarihi</label>
            <input asp-for="StartDate" type="date" class="form-control" />
        </div>

        <div class="form-group">
            <label>Tahmini Çıkış Tarihi (Opsiyonel)</label>
            <input asp-for="EndDate" type="date" class="form-control" />
        </div>

        <div class="form-group">
            <label>Tahmini Maliyet (TL)</label>
            <input asp-for="Cost" type="number" class="form-control" placeholder="0.00" />
        </div>

        <div class="form-group">
            <label>Açıklama / Yapılacak İşlemler</label>
            <textarea asp-for="Description" class="form-control" rows="3" placeholder="Örn: Yağ değişimi, fren balataları kontrol edilecek..."></textarea>
            <span asp-validation-for="Description" class="text-danger"></span>
        </div>
    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">İptal</button>
        <button type="button" class="btn btn-warning" onclick="saveMaintenance()">Bakıma Al</button>
    </div>
</form>